import{d as l,a as u,b as p,f as h,c as m,r as a,e as v,j as s,B as y,T as w}from "./index-CgTqJ2ri.js";import{S as x,T as C,a as S}from "./SearchWithFilter-DK6-i9WG.js";const g=l.div`
  display: flex;
  flex-direction: column;
  gap: 30px;
`,o=[{name:"conNumber",title:"Номер подключения",type:"number",width:"14.2%"},{name:"conDate",title:"Дата подключения",type:"date",width:"14.2%"},{name:"srvPackages",title:"Пакет услуг",width:"14.2%"},{name:"srvOptions",title:"Опции ПУ",width:"14.2%"},{name:"dateBeg",title:"Дата начала",type:"date",width:"14.2%"},{name:"dateEnd",title:"Дата окончания",sortable:!0,type:"date",width:"14.2%"},{name:"dateClose",title:"Дата прекращения действия",sortable:!0,type:"date",width:"14.2%"}];class b{async getServiceConnectionList(e){return(await u.post(`/api/service-connects/${e==null?void 0:e.idRKO}`,{filters:e})).data}}const P=new b,j=t=>p({queryKey:["serviceConnection-list",t],queryFn:()=>P.getServiceConnectionList(t)}),K=()=>{const{id:t}=h();if(!t)throw new Error("Вы не выбрали документ РКО");const e=m(),[n,i]=a.useState(),r=a.useCallback(d=>{e(v.service.periods.shortPath(d))},[e]),{data:c}=j({...n,idRKO:t});return s.jsxs(g,{children:[s.jsx(y,{}),s.jsx(w,{font:"Header/H1",children:"Подписки"}),s.jsx(x,{selectPlaceholder:"Выберите поле из выпадающего списка",columnList:o,setFilters:i,searchPlaceholder:"Введите значение для поиска"}),s.jsx(C,{columnList:o,rowList:S(c),onRowClick:r,queryKey:"serviceConnection-list"})]})};export{K as default};
