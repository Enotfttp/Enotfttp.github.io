import{u as d,f as u,v as a,l as m,F as h,N as s,a as p,R as w,k as y,H as v}from"./index-Bhzfcokq.js";import{T as f,R as x,V as C}from"./SearchWithFilter-DK6-i9WG-zXYICZnL.js";const R=y.div`
  display: flex;
  flex-direction: column;
  gap: 30px;
`,i=[{name:"conNumber",title:"Номер подключения",type:"number",width:"14.2%"},{name:"conDate",title:"Дата подключения",type:"date",width:"14.2%"},{name:"srvPackages",title:"Пакет услуг",width:"14.2%"},{name:"srvOptions",title:"Опции ПУ",width:"14.2%"},{name:"dateBeg",title:"Дата начала",type:"date",width:"14.2%"},{name:"dateEnd",title:"Дата окончания",sortable:!0,type:"date",width:"14.2%"},{name:"dateClose",title:"Дата прекращения действия",sortable:!0,type:"date",width:"14.2%"}];class b{async getServiceConnectionList(t){return(await v.post(`/api/service-connects/${t==null?void 0:t.idRKO}`,{filters:t})).data}}const g=new b,j=e=>h({queryKey:["serviceConnection-list",e],queryFn:()=>g.getServiceConnectionList(e)}),P=()=>{const{id:e}=d();if(!e)throw new Error("Вы не выбрали документ РКО");const t=u(),[n,r]=a.useState(),o=a.useCallback(c=>{t(m.service.periods.shortPath(c))},[t]),{data:l}=j({...n,idRKO:e});return s.jsxs(R,{children:[s.jsx(p,{}),s.jsx(w,{font:"Header/H1",children:"Подписки"}),s.jsx(f,{selectPlaceholder:"Выберите поле из выпадающего списка",columnList:i,setFilters:r,searchPlaceholder:"Введите значение для поиска"}),s.jsx(x,{columnList:i,rowList:C(l),onRowClick:o,queryKey:"serviceConnection-list"})]})};export{P as default};
